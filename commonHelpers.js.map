{"version":3,"file":"commonHelpers.js","sources":["../src/js/renderContent.js","../src/main.js"],"sourcesContent":["const gallery = document.querySelector('.gallery');\n\nexport function renderContent(data) {\n    const markup = data\n        .map(({ webformatURL, downloads, comments, views, largeImageURL, likes }) => {\n            return `<li class=\"gallery-item\">\n                        <a href=\"${largeImageURL}\">\n                            <img\n                                src=\"${webformatURL}\"\n                                alt=\"\"\n                                class=\"gallery-item-img\"\n                                width=\"350\"\n                                height=\"200\"/>\n                        </a>\n                        <div class=\"info-wrapper\">\n                            <ul class=\"info-list\">\n                                <li class=\"info-item\">\n                                    <p class=\"info-name\">Likes</p>\n                                    <p class=\"info-value\">${likes}</p>\n                                </li>\n                                <li class=\"info-item\">\n                                    <p class=\"info-name\">Viewes</p>\n                                    <p class=\"info-value\">${views}</p>\n                                </li>\n                                <li class=\"info-item\">\n                                    <p class=\"info-name\">Comments</p>\n                                    <p class=\"info-value\">${comments}</p>\n                                </li>\n                                <li class=\"info-item\">\n                                    <p class=\"info-name\">Downloads</p>\n                                    <p class=\"info-value\">${downloads}</p>\n                                </li>\n                            </ul>\n                        </div>\n                    </li>`\n        })\n        .join('')\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n}\n\n\n","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport { iziErrorMessage } from \"./js/customIziToast\";\nimport { lightboxGallery } from \"./js/lightBoxGallery\";\nimport { renderContent } from \"./js/renderContent\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('#more');\n\nconst URL = 'https://pixabay.com'\nconst KEY_API = '41991233-e464ef3fed32efbb52a55d5bb';\nconst FULL_ADDRESS = `${URL}/api/?key=${KEY_API}`;\n\nlet page = 1;\nlet per_page = 5;\nlet userRequest;\n\nform.addEventListener('submit', onLoadContent);\n\nasync function onLoadContent(e) {\n    e.preventDefault();\n    userRequest = e.target.elements.input.value;\n    try {\n        await fetchImages(userRequest)\n            .then(({ hits }) => {\n                renderContent(hits)\n                page += 1;\n                if (page >= 1) {\n                    loadMoreBtn.style.display = 'block';\n                }\n            })\n            .then(data => {\n                if (!userRequest) {\n                    gallery.innerHTML = '';\n                    renderContent(data.hits)\n                }\n            })\n\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\nasync function fetchImages(request) {\n    const params = {\n        page,\n        per_page,\n        orientation: 'horizontal',\n        image_type: 'photo',\n        safesearch: true,\n    }\n    const response = await axios.get(`${FULL_ADDRESS}&q=${request}`, { params })\n    return response.data\n}\n\n\n\n\n\n\n\n"],"names":["gallery","renderContent","data","markup","webformatURL","downloads","comments","views","largeImageURL","likes","form","loadMoreBtn","URL","KEY_API","FULL_ADDRESS","page","per_page","userRequest","onLoadContent","e","fetchImages","hits","error","request","params","axios"],"mappings":"svBAAA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAM,CAChC,MAAMC,EAASD,EACV,IAAI,CAAC,CAAE,aAAAE,EAAc,UAAAC,EAAW,SAAAC,EAAU,MAAAC,EAAO,cAAAC,EAAe,MAAAC,KACtD;AAAA,mCACgBD;AAAA;AAAA,uCAEIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAUqBK;AAAA;AAAA;AAAA;AAAA,4DAIAF;AAAA;AAAA;AAAA;AAAA,4DAIAD;AAAA;AAAA;AAAA;AAAA,4DAIAD;AAAA;AAAA;AAAA;AAAA,0BAKnD,EACA,KAAK,EAAE,EACZL,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,CChCA,MAAMO,EAAO,SAAS,cAAc,OAAO,EACrCV,EAAU,SAAS,cAAc,UAAU,EAC3CW,EAAc,SAAS,cAAc,OAAO,EAE5CC,EAAM,sBACNC,EAAU,qCACVC,EAAe,GAAGF,cAAgBC,IAExC,IAAIE,EAAO,EACPC,EAAW,EACXC,EAEJP,EAAK,iBAAiB,SAAUQ,CAAa,EAE7C,eAAeA,EAAcC,EAAG,CAC5BA,EAAE,eAAc,EAChBF,EAAcE,EAAE,OAAO,SAAS,MAAM,MACtC,GAAI,CACA,MAAMC,EAAYH,CAAW,EACxB,KAAK,CAAC,CAAE,KAAAI,KAAW,CAChBpB,EAAcoB,CAAI,EAClBN,GAAQ,EACJA,GAAQ,IACRJ,EAAY,MAAM,QAAU,QAEhD,CAAa,EACA,KAAKT,GAAQ,CACLe,IACDjB,EAAQ,UAAY,GACpBC,EAAcC,EAAK,IAAI,EAE3C,CAAa,CAER,OAAQoB,EAAP,CACE,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACL,CAEA,eAAeF,EAAYG,EAAS,CAChC,MAAMC,EAAS,CACX,KAAAT,EACA,SAAAC,EACA,YAAa,aACb,WAAY,QACZ,WAAY,EACf,EAED,OADiB,MAAMS,EAAM,IAAI,GAAGX,OAAkBS,IAAW,CAAE,OAAAC,CAAM,CAAE,GAC3D,IACpB"}